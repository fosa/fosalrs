% coding:utf-8

%FOSALRS, a LaTeX-Code for a electrical summary of control theory
%Copyright (C) 2013, Daniel Winz, Ervin Mazlagic

%This program is free software; you can redistribute it and/or
%modify it under the terms of the GNU General Public License
%as published by the Free Software Foundation; either version 2
%of the License, or (at your option) any later version.

%This program is distributed in the hope that it will be useful,
%but WITHOUT ANY WARRANTY; without even the implied warranty of
%MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
%GNU General Public License for more details.
%----------------------------------------

\section{Systemtheorie}

\subsection{Steuerung}
\begin{figure}[h!]
    \centering
    >>>FOSA: Grafik zu Steuerung
    \caption{Steuerung}
    \label{fig:control}
\end{figure}
Einfach zu Implementieren
keine Korrektur von Störungen

\subsection{Regelung}
\begin{figure}[h!]
    \centering
    >>>FOSA: Grafik zu Systemtheorie
    \caption{Regelkreis}
    \label{fig:regsystem}
\end{figure}
\begin{tabular}{@{}ll}
$r$ & Sollwert, Führungsgrösse (manchmal $w$) \\
$e$ & Regeldifferenz \\
$u$ & Stellgrösse \\
$y$ & Regelgrösse, Ausgangsgrösse \\
$d$ & Störgrösse (Eher v bei Rauschen)
\end{tabular}
\[ \boxed{e = r - y} \]
\[ \boxed{e(t) = r(t) - y(t)} \]
\begin{figure}[h!]
    \centering
    >>>FOSA: Grafik zu Regelkreis mit Feed forward
    \caption{Regelkreis mit Feed forward}
    \label{fig:feedforward}
\end{figure}
2 Degrees of freedom

\section{Eigenschaften eines Regelkreises}
Ein Regler kann nur entweder für das Führungsverhalten oder für das 
Störverhalten optimiert werden. 

\subsection{Führungsverhalten}
\begin{figure}[h!]
    \centering
    >>>FOSA: Grafik zu Führungsverhalten
    \caption{Führungsverhalten}
    \label{fig:fhr}
\end{figure}
\begin{itemize}
  \item maximales Überschwingen
  \item stationäre Genauigkeit
  \item Anregelzeit (Anstiegszeit (Reaktionszeit))
\end{itemize}

\subsection{Störverhalten}
\begin{figure}[h!]
    \centering
    >>>FOSA: Grafik zu Störverhalten
    \caption{Störverhalten}
    \label{fig:str}
\end{figure}
\begin{itemize}
  \item maximales Unterschwingen
  \item Ausregelzeit
  \item Stationäre Regelabweichung
\end{itemize}

\section{LZI -- Lineare zeitinvariante Elemente}
bounded Input $\rightarrow$ bounded output -- BIBO\\
P-Anteil: Grundsätzliche Stabilisierung \\
I-Anteil: Reduktion der Regeldifferenz auf 0 \\
D-Anteil: Becshleunigung des Reglers

\subsection{Prüfung auf Linearität}
\begin{enumerate}
  \item Überlagerungsprinzip erfüllt 
        \[ y = f(u) \qquad f(u_1 + u_2) = y_1 + y_2 \]
  \item Verstärkungsprinzip erfüllt
        \[ y = f(u) \qquad f(k \cdot u) = k \cdot y \]
\end{enumerate}

\subsection{Prüfung auf Zeitvarianz}
\[ y(t) = f(u(t) \]
\[ y(t - T) = f(u(t - T)) \]

\section{Wichtige Gleichungen für die Modellierung dynamischer Systeme}

Bilanzgleichungen, Erhaltungssätze
\subsection{Elektrisches Netzwerk}
Ladungserhaltung \\
Energieerhaltung \\
$\Rightarrow$ Kirchhoffsche Regeln \\
Knotenregel $\sum I = 0$ \\
Maschenregel $\sum U = 0$ \\\\
Widerstand R
\[ \boxed{u_R(t) = R \cdot i_R(t)} \]
\[ \boxed{i_R(t) = \frac{1}{R} \cdot u_R(t)} \]
Kapazität
\[ \boxed{u_C(t) 
= \frac{1}{C} \cdot \int\limits_{0}^{t} i_C(\tau) ~ d\tau + u_C(0)} \]
\[ \boxed{\dot{u}_C(t) = \frac{1}{C} \cdot i_C(t)} \]
\[ \boxed{i_C(t) = C \cdot \frac{d u_C(t)}{d t}} \]
Induktivität
\[ \boxed{u_L(t) = L \cdot \frac{d i}{d t}} \]
\[ \boxed{i_L(t) 
= \frac{1}{L} \cdot \int\limits_{0}^{t} u_L(\tau) ~ d\tau + i_L(0)} \]

\subsection{Mechanisch (Translation)}
Newton'sche Gesetze (skalar)
\[ \boxed{\frac{d(m \cdot v)}{dt} = \sum F_i} \]
\[ \boxed{\dot{m} \cdot v + m \cdot \dot{v} = \sum F_i} \]
m = konst: 
\[ \boxed{m \cdot \dot{v} = \sum F_i} \]
\[ \boxed{x, \qquad \dot{x} = v, \qquad \ddot{x} = \dot{v} = a} \]
\[ \boxed{m \cdot \ddot{x} = \sum F_i} \]

\subsection{Mechanisch (Rotation)}
\[ \boxed{\frac{d(I \cdot \omega}{dt} = \sum M_i} \]
\[ \boxed{I = konst. } \]
\[ \boxed{I \cdot \dot{\omega} = \sum M_i} \]
\[ \boxed{\varphi, \qquad \dot{\varphi} = \omega, 
\qquad \ddot{\varphi} = \dot{\omega} = \alpha} \]

\subsection{Thermisch}
\[ \boxed{\frac{d(c \cdot M \cdot \vartheta)}{dt} = \sum Q_i} \]

\subsection{Hydraulisches System}
inkompressibel \\
Volumen / Massenbilanz
\[ \boxed{\frac{dV}{dt} = \sum q_i} \]

\subsection{pneumatisch}
\[ \boxed{} \]

\subsection{Konzentration}
\[ \boxed{} \]

\section{Linearisierung einer statischen Funktion}
Beispiel: 
\[ y = u^2 \]

\subsection{Perturbation Theory}
\[ u = u_0 + \Delta u \]
\[ y = y_0 + \Delta y \]
\[ y_0 + \Delta y = (u_0 + \Delta u)^2 \]
\[ y_0 + \Delta y = {u_0}^2 + 2 \cdot u_0 \cdot \Delta u + \Delta u ^2 \]
\[ y_0 = {u_0}^2 \]
\[ {u_0}^2 + \Delta y = {u_0}^2 + 2 \cdot u_0 \cdot \Delta u + \Delta u^2 \]
\[ \Delta y = 2 \cdot u_0 \cdot \Delta u + \underbrace{\Delta u^2}_{\approx 0} \]
\[ \underline{\underline{\Delta y = 2 \cdot u_0 \cdot \Delta u}} \]
%
Anderes Beispiel: 
\[ v = \sin(u) \]
\[ u = u_0 + \Delta u \]
\[ v = v_0 + \Delta v \]
\[ v_0 + \Delta v = \sin(u_0 + \Delta u) \]
\[ v_0 + \Delta v = \sin(u_0) \cdot \underbrace{cos(\Delta u)}_{=1} 
+ \cos(u_0) \cdot \sin(\Delta u) \]
\[ v_0 = \sin(u_0) \]
\[ \sin(u_0) + \Delta v = \sin(u_0) + \cos(u_0) \cdot \Delta u \]
\[ \Delta v = \cos(u_0) \cdot \Delta u \]
\[ \Delta v = \cos(u_0) \cdot \Delta u + v_0 \]

\subsection{Totales Differential}
\[ y = u^2 \]
\[ f(y, u) = y - u^2 = 0 \]
\[ \frac{\partial f}{\partial y} = 1 \]
\[ \frac{\partial f}{\partial u} = -2u \]
\[ f(y, u) = f(y_0, u_0) + \frac{\partial f}{\partial y}(y_0, u_0) \Delta y \]
\[ + \frac{\partial f}{\partial u} \Delta u \]
\[ = y_0 - {u_0}^2 + 1 \cdot \Delta y - 2 \cdot u_0 \cdot \Delta u = 0 \]
\[ \Delta y - 2 \cdot u_0 \cdot \Delta u = 0 \]
\[ \Delta y = 2 \cdot u_0 \cdot \Delta u \]
%
Anderes Beispiel: 
\[ f(v, u) = v - \sin(u) = 0 \]
\[ \frac{\partial f}{\partial v} = 1 \]
\[ \frac{\partial f}{\partial u} = - \cos(u) \]
eingesetzt: 
\[ f(v, u) = v_0 - \sin(u_0) + 1 \cdot \Delta v - \cos(u_0) \cdot \Delta u = 0 \]
\[ \Delta v = \cos(u_0) \cdot \Delta u \]

\subsection{Weitere Variante: }
\[ \dot{y} = u^2 - \sin(v) \]
\[ 1 \cdot \delta y = 2 \cdot u_0 \cdot \delta u - \cos(v_0) \cdot \delta v \]
\[ \delta y = \Delta y \qquad \delta u = \Delta u \]
\[ \Delta y = 2 \cdot u_0 \cdot \Delta u - \cos(v_0) \cdot \Delta v \]
Anderes Beispiel: 
\[ z = x^2 \cdot y^2 \]
\begin{itemize}
  \item Wie lautet die linearisierung der statischen, nichtlinearen Kennlinie? 
  \item Visualisieren Sie die Linearisierung in Matlab. 
\end{itemize}